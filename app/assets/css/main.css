@import 'tailwindcss';
@plugin '@tailwindcss/typography';

/* =========================================================
   0) 全局视口匹配（核心）
   - 1920 宽：root = 1rem(=16px)（100% 设计比例）
   - <1920：root 按比例缩小（全站 rem 一起缩）
   - >1920：不放大（锁定 1rem）
   - 高度 <1080：压缩纵向节奏
========================================================= */
@layer base {
  /* 默认：桌面端按 1920 设计基准缩放 */
  html {
    font-size: clamp(12px, 0.833333vw, 16px);
  }

  /* 移动端：禁用“1920 缩放”，改为可读的固定根字号 */
  @media (max-width: 768px) {
    html {
      font-size: 12; /* 1rem = 16px，保证移动端可读性与触控尺寸 */
    }
  }

  :root {
    --vpad-mul: 1; /* 纵向节奏乘子：用于 section padding 等 */
  }

  /* 移动端：纵向节奏更紧凑一点（避免首屏过长） */
  @media (max-width: 768px) {
    :root {
      --vpad-mul: 0.86;
    }
  }

  /* 低高度：进一步压缩纵向节奏（桌面小屏/笔记本） */
  @media (max-height: 1080px) {
    :root {
      --vpad-mul: 0.92;
    }
  }
  @media (max-height: 900px) {
    :root {
      --vpad-mul: 0.88;
    }
  }
}

/* =========================================================
   1) 主题变量（Tailwind v4 @theme）
   - 所有 px 已改为 rem
   - 所有颜色补充 HEX 注释（由 OKLCH 精确换算到 sRGB）
========================================================= */
@theme {
  /* =========================
     Brand colors (OKLCH)
     ========================= */
  --color-canopus: oklch(50.99% 0.0567 200.3); /* 品牌主色：穹律青 | HEX #3B7073 */
  --color-brand-dark: oklch(31.25% 0.0321 198.8); /* 品牌深色：深绿 | HEX #1C3637 */
  --color-bg-black: oklch(0% 0 0); /* 背景黑：遮罩/极深背景 | HEX #000000 */
  --color-bg-white: oklch(95.51% 0 0); /* 浅背景白：页面弱底 | HEX #F0F0F0 */

  /* =========================
     Brand extension colors
     ========================= */
  --color-brand-ext-1: oklch(24.67% 0.1553 267.1); /* 延伸色1：深蓝强调 | HEX #070769 */
  --color-brand-ext-2: oklch(58.61% 0.0934 182.7); /* 延伸色2：青绿次强调 | HEX #278E81 */
  --color-brand-ext-3: oklch(74.82% 0.064 185.6); /* 延伸色3：浅青柔和强调 | HEX #7EBBB3 */
  --color-brand-ext-4: oklch(95.79% 0.018 201.1); /* 延伸色4：极浅青 | HEX #E4F5F6 */

  --bg-brand-gradient: linear-gradient(
    90deg,
    oklch(80.31% 0.1836 158.1) 0%,
    oklch(68.82% 0.1061 195) 100%
  ); /* 品牌渐变：首屏/CTA 背景 |（此处为渐变，不写单一 HEX） */

  /* =========================
     Neutral / text colors
     ========================= */
  --color-text-primary: oklch(32.11% 0 0); /* 主文字：标题/正文 | HEX #333333 */
  --color-text-regular: oklch(51.03% 0 0); /* 次文字：正文说明 | HEX #666666 */
  --color-text-secondary: oklch(68.3% 0 0); /* 弱文字：辅助信息 | HEX #999999 */
  --color-text-placeholder: oklch(79.21% 0 0); /* 占位/禁用文字 | HEX #BBBBBB */
  --color-text-on-dark: oklch(89.75% 0 0); /* 深色背景上的文字 | HEX #DDDDDD */
  --color-divider: oklch(92.8% 0 0); /* 分割线/边框基色 | HEX #E7E7E7 */

  /* =========================
     Semantic functional colors
     ========================= */
  --color-success-700: oklch(13.88% 0.0049 107); /* 成功：按下/更深态 | HEX #090907 */
  --color-success-600: oklch(54.86% 0.173 141.3); /* 成功：常规态 | HEX #238812 */
  --color-success-50: oklch(98.45% 0.019 133.1); /* 成功：浅底 | HEX #F5FDF0 */

  --color-error-700: oklch(53.04% 0.1908 26.7); /* 错误：按下/更深态 | HEX #C22727 */
  --color-error-600: oklch(60.02% 0.2141 24.2); /* 错误：常规态 | HEX #E4303A */
  --color-error-50: oklch(97.27% 0.0136 34.3); /* 错误：浅底 | HEX #FFF3F0 */

  --color-warning-700: oklch(71.15% 0.1509 73.9); /* 警告：按下/更深态 | HEX #D99100 */
  --color-warning-600: oklch(81.25% 0.1696 76.2); /* 警告：常规态 | HEX #FFB007 */
  --color-warning-50: oklch(98.76% 0.0289 100.6); /* 警告：浅底 | HEX #FFFCE6 */

  --color-link-700: oklch(47.78% 0.1936 259.9); /* 链接：hover/active | HEX #0053C7 */
  --color-link-600: oklch(56.49% 0.2313 260.1); /* 链接：默认态 | HEX #0169FA */
  --color-link-50: oklch(94.1% 0.0218 250.2); /* 链接：浅底 | HEX #E1EDFA */

  /* =========================
     Semantic aliases (recommended)
     ========================= */
  --color-primary: var(--color-canopus); /* 语义主色（同 canopus）| HEX #3B7073 */
  --color-primary-hover: var(--color-brand-ext-2); /* 主色 hover | HEX #278E81 */
  --color-primary-dark: var(--color-brand-dark); /* 主色深色 | HEX #1C3637 */
  --color-primary-light: var(--color-brand-ext-4); /* 主色浅底 | HEX #E4F5F6 */

  --color-surface: #ffffff; /* 页面表面：纯白 | HEX #FFFFFF */
  --color-surface-muted: var(--color-bg-white); /* 页面弱表面 | HEX #F0F0F0 */

  --color-text: var(--color-text-primary); /* 默认文字 | HEX #333333 */
  --color-muted: var(--color-text-regular); /* 弱文字 | HEX #666666 */
  --color-placeholder: var(--color-text-placeholder); /* 占位文字 | HEX #BBBBBB */
  --color-border: var(--color-divider); /* 默认边框/分割线 | HEX #E7E7E7 */

  /* =========================
     Neutral aliases
     ========================= */
  --color-neutral-text1: var(--color-text-primary); /* 主文字 | HEX #333333 */
  --color-neutral-text2: var(--color-text-regular); /* 次文字 | HEX #666666 */
  --color-neutral-text3: var(--color-text-secondary); /* 弱文字 | HEX #999999 */
  --color-neutral-divider: var(--color-divider); /* 分割线 | HEX #E7E7E7 */
  --color-neutral-bg: var(--color-surface-muted); /* 背景 | HEX #F0F0F0 */
  --color-neutral-light: var(--color-text-placeholder); /* 禁用/占位 | HEX #BBBBBB */

  /* =========================
     Radius & backgrounds
     ========================= */
  --radius-card: 1rem; /* 卡片/弹窗通用圆角：16px -> 1rem */
  --background-image-brand-gradient: linear-gradient(
    to right,
    #3b7073,
    #529a9e
  ); /* 品牌渐变（HEX） */
}

/* =========================================================
   2) 全局基础样式
========================================================= */
@layer base {
  html {
    color: var(--color-text);
    background: var(--color-surface-muted);
  }

  a {
    color: var(--color-link-600);
  }

  a:hover {
    color: var(--color-link-700);
  }
}

/* =========================================================
   3) 工具类：跟随全局缩放（rem）+ 高度节奏乘子
========================================================= */
@utility p-bottom {
  padding-bottom: calc(10rem * var(--vpad-mul));
}

@utility p-top {
  padding-top: calc(12rem * var(--vpad-mul));
}

@utility main-card {
  @apply mx-auto max-w-screen-2xl px-5 sm:px-8 lg:px-14 2xl:px-20;
}

@utility section-card {
  @apply relative z-10;
  padding-top: calc(2rem * var(--vpad-mul));
  padding-bottom: calc(2rem * var(--vpad-mul));
}

@utility text-h1 {
  font-size: 2rem; /* 32px mobile */
  line-height: 1.15;
  font-weight: 800;
  letter-spacing: -0.02em;

  @variant md {
    font-size: 2.5rem;
    line-height: 1.1;
  } /* 40px desktop */
  @variant lg {
    font-size: 3rem;
    line-height: 1.05;
  } /* 48px large */
}

@utility text-h2 {
  font-size: 1.5rem; /* 24px mobile */
  line-height: 1.2;
  font-weight: 800;
  letter-spacing: -0.015em;

  @variant md {
    font-size: 2rem;
    line-height: 1.15;
  } /* 32px */
}

@utility text-h3 {
  font-size: 1.25rem; /* 20px mobile */
  line-height: 1.25;
  font-weight: 700;

  @variant md {
    font-size: 1.5rem;
  } /* 24px */
}

@utility text-h4 {
  font-size: 1.125rem; /* 18px mobile */
  line-height: 1.3;
  font-weight: 700;

  @variant md {
    font-size: 1.25rem;
  } /* 20px */
}
